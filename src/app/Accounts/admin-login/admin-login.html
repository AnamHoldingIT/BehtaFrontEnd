<div class="overlay"></div>

<!-- Toast خطا -->
<div class="global-error" [ngClass]="{ 'is-visible': showError }">
  <div class="global-error-inner">
    <i class="bi bi-shield-exclamation"></i>
    <span>{{ errorMessage }}</span>
  </div>
</div>

<!-- دکمه بازگشت به لاگین کاربران -->
<a class="btn-back-user" routerLink="/accounts/login">
  <i class="bi bi-person"></i>
  <span>ورود کاربران عادی</span>
</a>

<main class="admin-shell">
  <section class="admin-grid">
    <div class="admin-card">
      <div class="admin-card-inner">
        <header class="admin-header">
          <div class="admin-header-main">
            <div class="admin-logo">A</div>
            <div class="admin-header-text">
              <span>MYAPP ADMIN</span>
              <span>درگاه ورود مدیران</span>
              <span>این ناحیه فقط برای افراد مجاز است.</span>
            </div>
          </div>
          <span class="admin-badge">
            <i class="bi bi-shield-lock-fill"></i>
            سطح دسترسی: مدیر
          </span>
        </header>

        <div class="mb-3">
          <div class="admin-title">ورود به پنل مدیریت</div>
          <div class="admin-subtitle">
            شماره موبایل و رمز عبور مدیریتی خودت رو وارد کن تا به کنسول مدیریت MyApp دسترسی داشته باشی.
          </div>
        </div>

        <!-- توجه: از ngSubmit استفاده می‌کنیم -->
        <form autocomplete="on" (ngSubmit)="onSubmit()">
          <!-- نام کاربری / موبایل مدیر -->
          <div class="form-group-custom">
            <label class="form-label-custom">
              <span>شماره موبایل مدیر</span>
              <span class="helper">۱۱ رقم، فقط ادمین‌ها</span>
            </label>
            <div class="input-shell">
              <i class="bi bi-person-badge"></i>
              <input
                type="tel"
                autocomplete="username"
                placeholder="مثال: ۰۹۱۲۳۴۵۶۷۸۹"
                required
                [(ngModel)]="username"
                name="username"
              />
            </div>
          </div>

          <!-- رمز عبور -->
          <div class="form-group-custom">
            <label class="form-label-custom">
              <span>رمز عبور</span>
              <span class="helper">حداقل ۸ کاراکتر</span>
            </label>
            <div class="input-shell">
              <i class="bi bi-lock"></i>
              <input
                [type]="passwordInputType"
                autocomplete="current-password"
                minlength="8"
                placeholder="رمز عبور مدیر را وارد کن"
                required
                [(ngModel)]="password"
                name="password"
              />
              <button
                type="button"
                class="toggle-password"
                aria-label="نمایش رمز"
                (mousedown)="$event.preventDefault()"
                (click)="togglePasswordVisibility()"
              >
                <i class="bi" [ngClass]="passwordIconClass"></i>
              </button>
            </div>
          </div>

          <div class="login-row-meta">
            <div class="form-check d-flex align-items-center">
              <input
                class="form-check-input ms-2"
                type="checkbox"
                id="rememberMe"
                checked
              />
              <label class="form-check-label" for="rememberMe">
                فعال بمان روی این سیستم
              </label>
            </div>
            <a href="#" class="link-muted">بازیابی دسترسی مدیر</a>
          </div>

          <button type="submit" class="btn-login" [disabled]="isLoading">
            <span *ngIf="!isLoading">ورود به کنسول مدیریت</span>
            <span *ngIf="isLoading">در حال ورود...</span>
            <i class="bi bi-arrow-left-short"></i>
          </button>

          <div class="admin-footer-text mt-4">
            <span>اگر مدیر این سیستم نیستی، از این صفحه خارج شو.</span>
            <span>Internal · MyApp Admin</span>
          </div>

          <div class="admin-version">MyApp Admin Console · v1.0</div>
        </form>
      </div>
    </div>
  </section>
</main>
